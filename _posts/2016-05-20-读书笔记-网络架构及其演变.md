---
layout: post
title: 读书笔记-网络架构及演变、常见的协议和标准
description: 主要从高并发和海量数据看看网络架构，以及常见的网络协议
keywords: 网络
categories : [网络]
tags : [网络]
---

作者：李阳	

-------------------


# 网络架构及演变

**三种常见的软件类型：**

*	单机类型
*	CS类型
*	BS类型

**BS结构网络传输的分解方式：**

*	OSI参考模型
	
	七层：应用层、表示层、会话层、传输层、网络层、数据链路层、物理层
	
*	TCP/IP参考模型

	四层模型：
		
	+	应用层：使用HTTP协议
	+	传输层
	+	网际互联层：找到要传输的目标节点数据，使用ip协议
	+	网络接入层：将需要互相连接的节点接入网络，使用TCP协议
BS结构中还是用到了DNS协议，而且在HTTP上层还有相关的规范，如java Web开发过程中使用Servlet标准

**海量数据的解决方案**
	
*	缓存和页面静态化
		
*	数据库优化-表结构优化，sql语句优化，分区分表等
	
*	分离活跃数据
	
	将不活跃的数据从数据中分离出去，保存到其他表中。查询时先查找活跃数据表超找不到再查找不活跃数据表。
	
*	批量读取和延时修改
		
	主要通过减少操作次数来优化。延时修改主要针对高并发且频繁修改的数据。先存入缓存再一次性保存到数据库中（问题：缓存服务器失效会引起数据丢失，数据的最终一致性）
		
*	读写分离
		
	通过数据库集群来解决。核心问题是数据同步和数据一致性以及负载均衡。通常只有一台服务器完成写操作，而读操作则可由多台完成。

*	分布式数据库

**高并发解决方案**

*	应用和静态资源分离

	将静态资源主要包括视频、图片、js、css等无状态的资源文件，单独保存到相应的服务器中，使用专门的域名去访问。这样皆可以节省大量的应用服务器的开销。
	
*	页面缓存

	将应用程序最后生成的页面缓存起来，不需要每次生成新页面，通常应用与数据变化较少的应用，如文章等。对于页面中变化频率较高的数据可以采用ajax来填充到生成的静态页面中去。Ngnix提供这种缓存服务，也可以使用Squid服务器。
	
*	集群和分布式
	
	集群是使用功能相同的多台服务器来处理请求，主要起分流作用，而分布式则是不同的功能由不同的服务器来完成。
	Session同步是应用程序集群中的核心问题。有两种处理方式：一种是Session变化后同步到其他服务器，如tomcat。另一种是一个程序统一管理Session，所有集群都使用一个Session，可通过缓冲服务器来实现。
	
* 反向代理

	注意代理服务器和反向代理服务器的区别
	
* `CDN`

	CDN是一种特殊的集群页面缓存服务器。CDN的服务器是分布到全国的，收到用户请求后再进行分配。
	`CDN分配方式`：其在由专门的解析域名服务器在解析域名时就已分配好。

# 常见的协议和标准

**DNS协议**-将域名解析为ip

**TCP/IP协议**

*	TCP协议（著名的三次握手，四次挥手）和IP协议是两个协议，TCP协议用来规范传输规则，而IP协议用来查找地址。Socket即是TCP/IP协议的一个具体实现

*	HTTP协议

	应用层协议，在TCP/IP接收到数据之后需要通过HTTP协议来解析才能使用。HTTP协议中定义了报文结构（包括请求报文和相应报文两种类型）。报文包括首行，头部和主体。
	
	[相关资料](http://blog.csdn.net/yipiankongbai/article/details/24176693)



***未完待续***


	
	
	
	
